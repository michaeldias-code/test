<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Nivelamento de Ingl√™s Profissional</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 16px;
        }

        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-screen h2 {
            color: #667eea;
            font-size: 32px;
            margin-bottom: 20px;
        }

        .welcome-screen ul {
            text-align: left;
            display: inline-block;
            margin: 30px 0;
        }

        .welcome-screen li {
            margin: 15px 0;
            font-size: 16px;
            color: #555;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.3s;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .test-area {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .timer-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
        }

        .question-counter {
            font-size: 16px;
            color: #666;
        }

        .question-card {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .question-type {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 20px;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .passage {
            background: white;
            padding: 20px;
            border-left: 4px solid #667eea;
            margin: 20px 0;
            font-style: italic;
            color: #555;
            line-height: 1.8;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .option {
            background: white;
            padding: 18px 25px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .btn-finish {
            background: #28a745;
            color: white;
        }

        .btn-finish:hover {
            background: #218838;
        }

        .results {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .result-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .result-level {
            font-size: 72px;
            font-weight: bold;
            margin: 20px 0;
        }

        .result-description {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .result-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .score-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .score-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .score-item h3 {
            color: #667eea;
            font-size: 32px;
            margin-bottom: 5px;
        }

        .score-item p {
            color: #666;
            font-size: 14px;
        }

        .level-breakdown {
            text-align: left;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .level-breakdown h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .level-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            margin: 10px 0;
            border-radius: 8px;
        }

        .level-bar {
            width: 60%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .level-bar-fill {
            height: 100%;
            background: #667eea;
            transition: width 0.5s;
        }

        .certificate {
            background: white;
            border: 3px solid #667eea;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .certificate h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .audio-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .question-text {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Teste de Nivelamento de Ingl√™s</h1>
            <p>Avalia√ß√£o Profissional Completa</p>
        </div>

        <div id="welcomeScreen" class="welcome-screen">
            <h2>Bem-vindo ao Teste de Nivelamento!</h2>
            <p style="color: #666; font-size: 18px; margin: 20px 0;">
                Este √© um teste profissional que avaliar√° seu n√≠vel de ingl√™s do b√°sico ao avan√ßado.
            </p>
            <ul>
                <li>‚úì <strong>12 quest√µes</strong> cuidadosamente selecionadas</li>
                <li>‚úì Avalia√ß√£o completa: <strong>A1 a C2</strong> (CEFR)</li>
                <li>‚úì Tempo limite: <strong>40 minutos</strong></li>
                <li>‚úì Quest√µes variadas a cada tentativa</li>
                <li>‚úì Resultado detalhado por n√≠vel</li>
                <li>‚úì Gram√°tica, vocabul√°rio e compreens√£o de texto</li>
            </ul>
            <button class="btn-primary" onclick="startTest()">Iniciar Teste</button>
        </div>

        <div id="testArea" class="test-area">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="timer-section">
                <div class="timer">
                    <span>‚è±Ô∏è</span>
                    <span id="timer">40:00</span>
                </div>
                <div class="question-counter" id="questionCounter">Quest√£o 1 de 12</div>
            </div>

            <div class="question-card" id="questionCard"></div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">‚Üê Anterior</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Pr√≥xima ‚Üí</button>
                <button class="btn btn-finish" id="finishBtn" onclick="finishTest()" style="display: none;">Finalizar Teste</button>
            </div>
        </div>

        <div id="results" class="results"></div>
    </div>
<script>
        const questionBank = {
            basic: [
                {
                    id: 'b1',
                    level: 'A1',
                    type: 'Gram√°tica B√°sica',
                    question: 'Hello! My name ___ Maria.',
                    options: ['am', 'is', 'are', 'be'],
                    correct: 1
                },
                {
                    id: 'b2',
                    level: 'A1',
                    type: 'Gram√°tica B√°sica',
                    question: 'I ___ from Brazil.',
                    options: ['am', 'is', 'are', 'be'],
                    correct: 0
                },
                {
                    id: 'b3',
                    level: 'A1',
                    type: 'Presente Simples',
                    question: 'She ___ coffee every morning.',
                    options: ['drink', 'drinks', 'drinking', 'to drink'],
                    correct: 1
                },
                {
                    id: 'b4',
                    level: 'A2',
                    type: 'Passado Simples',
                    question: 'I ___ to the gym yesterday.',
                    options: ['go', 'goes', 'went', 'going'],
                    correct: 2
                },
                {
                    id: 'b5',
                    level: 'A2',
                    type: 'There was/were',
                    question: 'There ___ many people at the party last night.',
                    options: ['was', 'were', 'is', 'are'],
                    correct: 1
                },
                {
                    id: 'b6',
                    level: 'A2',
                    type: 'Compreens√£o de Texto',
                    passage: 'My Daily Routine: I wake up at 7 AM every day. I have breakfast with my family and then I go to work by bus. I work from 9 AM to 5 PM. After work, I usually go to the gym or meet friends for dinner.',
                    question: 'How does the person go to work?',
                    options: ['By car', 'By bus', 'By train', 'On foot'],
                    correct: 1
                },
                {
                    id: 'b7',
                    level: 'A2',
                    type: 'Preposi√ß√µes',
                    question: 'My birthday is ___ December.',
                    options: ['in', 'on', 'at', 'by'],
                    correct: 0
                },
                {
                    id: 'b8',
                    level: 'A1',
                    type: 'Vocabul√°rio',
                    question: 'What do you use to write? A ___.',
                    options: ['pen', 'cup', 'chair', 'window'],
                    correct: 0
                }
            ],
            intermediate: [
                {
                    id: 'i1',
                    level: 'B1',
                    type: 'Condicional',
                    question: 'If I ___ more money, I would travel around the world.',
                    options: ['have', 'had', 'will have', 'would have'],
                    correct: 1
                },
                {
                    id: 'i2',
                    level: 'B1',
                    type: 'Present Perfect',
                    question: 'She has been studying English ___ three years.',
                    options: ['since', 'for', 'during', 'while'],
                    correct: 1
                },
                {
                    id: 'i3',
                    level: 'B1',
                    type: 'Compreens√£o de Texto',
                    passage: 'Remote work has transformed the way companies operate. While it offers flexibility and reduced commuting time, it also presents challenges such as maintaining team cohesion and establishing clear work-life boundaries. Many employees appreciate the autonomy but miss the social interaction of an office environment.',
                    question: 'According to the text, what is NOT mentioned as a benefit of remote work?',
                    options: ['Flexibility', 'Less commuting', 'Higher salary', 'Autonomy'],
                    correct: 2
                },
                {
                    id: 'i4',
                    level: 'B2',
                    type: 'Future Perfect',
                    question: 'By the time you arrive, I ___ dinner.',
                    options: ['will finish', 'will have finished', 'finish', 'am finishing'],
                    correct: 1
                },
                {
                    id: 'i5',
                    level: 'B2',
                    type: 'Voz Passiva',
                    question: 'The project ___ by the team before the deadline.',
                    options: ['completed', 'was completed', 'has completed', 'completing'],
                    correct: 1
                },
                {
                    id: 'i6',
                    level: 'B2',
                    type: 'Vocabul√°rio Avan√ßado',
                    question: 'The company decided to ___ the new policy despite employee concerns.',
                    options: ['implement', 'compliment', 'complement', 'supplement'],
                    correct: 0
                },
                {
                    id: 'i7',
                    level: 'B1',
                    type: 'Phrasal Verbs',
                    question: 'Please ___ your shoes before entering the house.',
                    options: ['take off', 'take on', 'take up', 'take over'],
                    correct: 0
                },
                {
                    id: 'i8',
                    level: 'B2',
                    type: 'Reported Speech',
                    question: 'She said she ___ the movie the week before.',
                    options: ['has seen', 'saw', 'had seen', 'would see'],
                    correct: 2
                }
            ],
            advanced: [
                {
                    id: 'a1',
                    level: 'C1',
                    type: 'Condicional Perfeito',
                    question: 'Had I known about the traffic, I ___ earlier.',
                    options: ['would leave', 'will leave', 'would have left', 'had left'],
                    correct: 2
                },
                {
                    id: 'a2',
                    level: 'C1',
                    type: 'Vocabul√°rio Sofisticado',
                    question: 'The politician\'s speech was criticized for being too ___; it lacked concrete proposals.',
                    options: ['ambiguous', 'explicit', 'coherent', 'pragmatic'],
                    correct: 0
                },
                {
                    id: 'a3',
                    level: 'C1',
                    type: 'Compreens√£o Avan√ßada',
                    passage: 'The paradigm shift in educational methodologies has necessitated a reevaluation of traditional pedagogical approaches. Contemporary educators must reconcile the dichotomy between time-tested practices and innovative technological integration, ensuring that neither is sacrificed at the altar of progress.',
                    question: 'What does the passage primarily suggest?',
                    options: [
                        'Technology should replace traditional teaching',
                        'Educators face challenges balancing old and new methods',
                        'Traditional methods are obsolete',
                        'Technology has failed in education'
                    ],
                    correct: 1
                },
                {
                    id: 'a4',
                    level: 'C2',
                    type: 'Invers√£o',
                    question: 'Scarcely ___ the presentation when questions began flooding in.',
                    options: ['had I finished', 'I had finished', 'did I finish', 'I finished'],
                    correct: 0
                },
                {
                    id: 'a5',
                    level: 'C2',
                    type: 'Vocabul√°rio C2',
                    question: 'Her ___ personality made her an invaluable mediator in corporate disputes.',
                    options: ['bellicose', 'taciturn', 'ebullient', 'phlegmatic'],
                    correct: 3
                },
                {
                    id: 'a6',
                    level: 'C2',
                    type: 'Express√µes Idiom√°ticas',
                    question: 'The CEO\'s decision to expand during the recession was considered "playing with fire." This means:',
                    options: [
                        'Taking a dangerous risk',
                        'Working with enthusiasm',
                        'Being very careful',
                        'Following regulations strictly'
                    ],
                    correct: 0
                },
                {
                    id: 'a7',
                    level: 'C1',
                    type: 'Subjuntivo',
                    question: 'It is imperative that she ___ the meeting on time.',
                    options: ['attends', 'attend', 'attended', 'will attend'],
                    correct: 1
                },
                {
                    id: 'a8',
                    level: 'C2',
                    type: 'Coloca√ß√µes Avan√ßadas',
                    question: 'The research findings ___ serious doubts on the validity of previous studies.',
                    options: ['cast', 'throw', 'make', 'put'],
                    correct: 0
                }
            ]
        };

        let currentQuestion = 0;
        let selectedQuestions = [];
        let answers = {};
        let timeLeft = 2400; // 40 minutes
        let timerInterval;

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startTest() {
            // Seleciona quest√µes aleat√≥rias
            const basic = shuffleArray(questionBank.basic).slice(0, 4);
            const intermediate = shuffleArray(questionBank.intermediate).slice(0, 4);
            const advanced = shuffleArray(questionBank.advanced).slice(0, 4);
            
            selectedQuestions = [...basic, ...intermediate, ...advanced];
            
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('testArea').style.display = 'block';
            
            startTimer();
            displayQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timer').textContent = 
                    `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishTest();
                }
            }, 1000);
        }

        function displayQuestion() {
            const q = selectedQuestions[currentQuestion];
            const card = document.getElementById('questionCard');
            
            let html = `
                <div class="question-type">${q.type} - N√≠vel ${q.level}</div>
            `;
            
            if (q.passage) {
                html += `<div class="passage">${q.passage}</div>`;
            }
            
            html += `
                <div class="question-text">${currentQuestion + 1}. ${q.question}</div>
                <div class="options">
            `;
            
            q.options.forEach((option, index) => {
                const selected = answers[currentQuestion] === index ? 'selected' : '';
                html += `
                    <div class="option ${selected}" onclick="selectAnswer(${index})">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </div>
                `;
            });
            
            html += '</div>';
            card.innerHTML = html;
            
            // Update progress
            const progress = ((currentQuestion + 1) / selectedQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionCounter').textContent = 
                `Quest√£o ${currentQuestion + 1} de ${selectedQuestions.length}`;
            
            // Update buttons
            document.getElementById('prevBtn').style.display = currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('nextBtn').style.display = 
                currentQuestion < selectedQuestions.length - 1 ? 'block' : 'none';
            document.getElementById('finishBtn').style.display = 
                currentQuestion === selectedQuestions.length - 1 ? 'block' : 'none';
        }

        function selectAnswer(optionIndex) {
            answers[currentQuestion] = optionIndex;
            displayQuestion();
        }

        function nextQuestion() {
            if (currentQuestion < selectedQuestions.length - 1) {
                currentQuestion++;
                displayQuestion();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function finishTest() {
            clearInterval(timerInterval);
            
            let score = 0;
            let levelScores = { A1: 0, A2: 0, B1: 0, B2: 0, C1: 0, C2: 0 };
            let levelTotals = { A1: 0, A2: 0, B1: 0, B2: 0, C1: 0, C2: 0 };
            
            selectedQuestions.forEach((q, index) => {
                levelTotals[q.level]++;
                if (answers[index] === q.correct) {
                    score++;
                    levelScores[q.level]++;
                }
            });
            
            const percentage = (score / selectedQuestions.length) * 100;
            let determinedLevel = 'A1';
            let levelDescription = '';
            let recommendations = '';
            
            // Determina o n√≠vel baseado na performance
            if (percentage >= 90 && levelScores.C2 >= levelTotals.C2 * 0.75) {
                determinedLevel = 'C2';
                levelDescription = 'Profici√™ncia (Mastery)';
                recommendations = 'Voc√™ possui dom√≠nio completo do idioma. Continue praticando com conte√∫do nativo e considere certifica√ß√µes como CPE.';
            } else if (percentage >= 80 && levelScores.C1 >= levelTotals.C1 * 0.75) {
                determinedLevel = 'C1';
                levelDescription = 'Avan√ßado (Advanced)';
                recommendations = 'Excelente n√≠vel! Foque em vocabul√°rio t√©cnico espec√≠fico e nuances culturais. Recomendado: CAE.';
            } else if (percentage >= 70 && levelScores.B2 >= levelTotals.B2 * 0.6) {
                determinedLevel = 'B2';
                levelDescription = 'Intermedi√°rio-Superior (Upper Intermediate)';
                recommendations = '√ìtimo progresso! Pratique conversa√ß√£o fluente e leitura de textos complexos. Considere o FCE.';
            } else if (percentage >= 55 && levelScores.B1 >= levelTotals.B1 * 0.5) {
                determinedLevel = 'B1';
                levelDescription = 'Intermedi√°rio (Intermediate)';
                recommendations = 'Bom n√≠vel! Continue praticando gram√°tica avan√ßada e expandindo vocabul√°rio. Foco em flu√™ncia.';
            } else if (percentage >= 40) {
                determinedLevel = 'A2';
                levelDescription = 'B√°sico (Elementary)';
                recommendations = 'Voc√™ j√° tem uma base! Foque em construir vocabul√°rio e praticar tempos verbais regularmente.';
            } else {
                determinedLevel = 'A1';
                levelDescription = 'Iniciante (Beginner)';
                recommendations = 'Comece com o b√°sico: vocabul√°rio essencial, presente simples e conversa√ß√µes cotidianas.';
            }
            
            // Mostra resultados
            document.getElementById('testArea').style.display = 'none';
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            
            let levelBreakdownHTML = '';
            Object.keys(levelTotals).forEach(level => {
                if (levelTotals[level] > 0) {
                    const levelPercentage = (levelScores[level] / levelTotals[level]) * 100;
                    levelBreakdownHTML += `
                        <div class="level-item">
                            <strong>${level}:</strong> ${levelScores[level]}/${levelTotals[level]}
                            <div class="level-bar">
                                <div class="level-bar-fill" style="width: ${levelPercentage}%"></div>
                            </div>
                            <span>${levelPercentage.toFixed(0)}%</span>
                        </div>
                    `;
                }
            });
            
            resultsDiv.innerHTML = `
                <h2 style="color: #667eea; font-size: 32px; margin-bottom: 20px;">üéâ Teste Conclu√≠do!</h2>
                
                <div class="result-card">
                    <div class="result-level">${determinedLevel}</div>
                    <div class="result-description">${levelDescription}</div>
                    <div class="result-subtitle">Quadro Europeu Comum de Refer√™ncia</div>
                </div>
                
                <div class="score-details">
                    <div class="score-item">
                        <h3>${score}/${selectedQuestions.length}</h3>
                        <p>Acertos</p>
                    </div>
                    <div class="score-item">
                        <h3>${percentage.toFixed(1)}%</h3>
                        <p>Aproveitamento</p>
                    </div>
                    <div class="score-item">
                        <h3>${Math.floor((2400 - timeLeft) / 60)}min</h3>
                        <p>Tempo Utilizado</p>
                    </div>
                </div>
                
                <div class="level-breakdown">
                    <h3>üìä Desempenho por N√≠vel</h3>
                    ${levelBreakdownHTML}
                </div>
                
                <div class="certificate">
                    <h3>üí° Recomenda√ß√µes</h3>
                    <p style="color: #555; line-height: 1.8;">${recommendations}</p>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-primary" onclick="location.reload()">Fazer Novo Teste</button>
                </div>
            `;
        }
    </script>
</body>
</html>
    
