<!DOCTYPE html>
<html>
<body>

<button id="btn">Tocar nota C4</button>

<script src="https://unpkg.com/soundfont-player"></script>
<script>
const ctx = new (window.AudioContext || window.webkitAudioContext)();
let trumpet;

document.getElementById("btn").onclick = async () => {
  // Garante que o AudioContext estÃ¡ ativo
  if (ctx.state === "suspended") {
    await ctx.resume();
  }

  // Carrega o instrumento apenas uma vez
  if (!trumpet) {
    trumpet = await Soundfont.instrument(ctx, "trumpet");
  }

  // Toca a nota C4
  trumpet.play("C4");
};
</script>

</body>
</html>
